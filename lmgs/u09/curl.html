<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="es" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html -->

<title>Ejercicios peticiones a API web con curl - IES SEVERO OCHOA</title>
<meta name="description" content="API restful swapi">


  <meta name="author" content="Jesús Vives Céspedes">
  
  <meta property="article:author" content="Jesús Vives Céspedes">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="es_ES">
<meta property="og:site_name" content="IES SEVERO OCHOA">
<meta property="og:title" content="Ejercicios peticiones a API web con curl">
<meta property="og:url" content="http://localhost:4000/lmgs/u09/curl.html">


  <meta property="og:description" content="API restful swapi">







  <meta property="article:published_time" content="2023-02-21T21:10:39+01:00">





  

  


<link rel="canonical" href="http://localhost:4000/lmgs/u09/curl.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Jesus Vives Céspedes",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="IES SEVERO OCHOA Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    
<!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->



<link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
<link rel="manifest" href="/assets/icons/site.webmanifest">
<link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">



<!-- end custom head snippets 2 -->

  </head>

  <body class="layout--single2 wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Saltar a navegación principal</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Saltar a contenido</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Saltar a pie</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          IES SEVERO OCHOA
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="">Inicio</a>
            </li><li class="masthead__menu-item">
              <a href="https://aules.edu.gva.es/fp/login/index.php">Plataforma</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Alternar búsqueda</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Alternar menú</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Alternar menú</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Lenguajes de marcas (antiguo)</span>
        

        
        <ul>
          
            <li><a href="/lmgs/">Inicio</a></li>
          
            <li><a href="/lmgs/u01">Pseudocódigo</a></li>
          
            <li><a href="/lmgs/u02">Python3</a></li>
          
            <li><a href="/lmgs/u03">Introducción a los LM</a></li>
          
            <li><a href="/lmgs/u04">XML</a></li>
          
            <li><a href="/lmgs/u05">JSON</a></li>
          
            <li><a href="/lmgs/u06">HTML/CSS</a></li>
          
            <li><a href="/lmgs/u07">YAML</a></li>
          
            <li><a href="/lmgs/u08">Flask</a></li>
          
            <li><a href="/lmgs/u09">Servicios Web</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>


  
  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Ejercicios peticiones a API web con curl">
    <meta itemprop="description" content="API restful swapi">
    <meta itemprop="datePublished" content="February 21, 2023">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Ejercicios peticiones a API web con curl
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <h2 id="api-restful-swapi">API restful swapi</h2>

<p><a href="https://swapi.dev/">swapi</a> es una API restful que ofrece información sobre Star Wars. No es necesario a autentificarte y la documentación la obtienes en la dirección: <a href="https://swapi.dev/documentation">https://swapi.dev/documentation</a>.</p>

<ol>
  <li>
    <p>Muestra información del personaje que tiene el código 1:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> curl "https://swapi.dev/api/people/1/"
</code></pre></div>    </div>
  </li>
  <li>
    <p>Realiza la petición HTTP para obtener todos los personajes de la saga:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> curl "https://swapi.dev/api/people/"
</code></pre></div>    </div>

    <p>Como hay tantos personajes la respuesta esta páginada, es decir, te devuelve un conjunto de personajes por página, si te fijas al en el json, te indica la dirección de la siguiente página (<code class="language-plaintext highlighter-rouge">next</code>), a dirección de la página anterior (<code class="language-plaintext highlighter-rouge">previous</code>) y la cantidad de personajes (<code class="language-plaintext highlighter-rouge">count</code>):</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ...
 "previous" : null,
	"count" : 82,
	"next" : "http://swapi.dev/api/people/?page=2"
 ...
</code></pre></div>    </div>

    <p>Por la tanto ahora si queremos ver la siguiente página de personajes, hago una petición a (<strong>cuidado que hay que usar https, aunque ponga http</strong>):</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> curl "https://swapi.dev/api/people/?page=2"
</code></pre></div>    </div>

    <p>Y veamos donde están las siguientes páginas:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ...
 "next" : "http://swapi.dev/api/people/?page=3",
"previous" : "http://swapi.dev/api/people/?page=1",
	"count" : 82
 ...
</code></pre></div>    </div>
  </li>
</ol>

<div class="notice--info">
<ul>
  <li>Ejercicio 1: Muestra la información de Yoda (este persona está en la segunda página de personajes).</li>
  <li>Ejercicio 2: Muestra todas las películas de la saga. Haz otra petición para mostrar información de la pélicula “El Retorno del Jedi”.</li>
</ul>

</div>

<h2 id="api-restful-redmine">API restful Redmine</h2>

<p>La documentación de la API restful de Redmine está en <a href="https://www.redmine.org/projects/redmine/wiki/Rest_api">https://www.redmine.org/projects/redmine/wiki/Rest_api</a>.
Utilizando el comando <code class="language-plaintext highlighter-rouge">curl</code> realiza peticiones a las API web de las distintas aplicaciones para obtener la siguiente información:</p>

<ol>
  <li>
    <p>Programa que muestre el nombre de los proyectos públicos de la aplicación redmine de nuestro ciclo. Utiliza la respuesta XML.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> curl "https://dit.gonzalonazareno.org/redmine/projects.xml"
</code></pre></div>    </div>

    <p>Si quiero la respuesta en XML, si la quiero en json:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> curl "https://dit.gonzalonazareno.org/redmine/projects.json"
</code></pre></div>    </div>
  </li>
  <li>
    <p>Programa que muestre el nombre de los proyectos de la aplicación redmine de nuestro ciclo. Para ello necesitas autentificarte con la API key. Utiliza la respuesta XML.</p>

    <p>Lo primero que hacemos es guardar nuestra API KEY en una variable de entorno:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> export key="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

 curl "https://dit.gonzalonazareno.org/redmine/projects.xml?key=$key"
</code></pre></div>    </div>

    <p>Si queremos la respuesta en json:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> curl "https://dit.gonzalonazareno.org/redmine/projects.json?key=$key"
</code></pre></div>    </div>
  </li>
</ol>

<div class="notice--info">
<ul>
  <li>Ejercicio 1: Obtén información del proyecto 1ºASIR. Tendrás que hacer dos peticiones una para obtener el id del proyecto, y otra para obtener información de dicho proyecto.</li>
  <li>Ejercicio 2: Obtén información de las tareas que tienes asignadas en el proyecto 1ª ASIR.</li>
</ul>

</div>

<h2 id="api-restful-de-openweather">API restful de openweather</h2>

<p><a href="https://openweathermap.org">openweather</a> es un servicio de información meteorológica, puede ver los datos climáticos desde su página web, o usando su <a href="https://openweathermap.org/api">API</a>. La matoría de los servicios tienen limitaciones al usar las API de forma gratuita, y te tienes que suscribir para obtener todas las funcionalidades de la API.</p>

<ol>
  <li>
    <p>Obtener el tiempo atmosférico de la ciudad de Sevilla:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> export key="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
 curl "https://api.openweathermap.org/data/2.5/weather?q=Sevilla&amp;mode=json&amp;units=metric&amp;APPID=$key"
</code></pre></div>    </div>
  </li>
  <li>
    <p>Obtener la predicción de la ciudad de Sevilla:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> curl "https://api.openweathermap.org/data/2.5/forecast?q=Sevilla&amp;mode=json&amp;units=metric&amp;APPID=$key"| json_pp
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="donde-encuentro-más-api">¿Donde encuentro más API?</h2>

<ul>
  <li><a href="http://www.programmableweb.com/">ProgrammableWeb - APIs, Mashups and the Web as Platform</a></li>
  <li><a href="https://github.com/toddmotto/public-apis">Public APIs</a></li>
</ul>

<div class="notice--info">
<ul>
  <li>Ejercicio: Busca alguna API de algún tema que te interese de los enlaces anteriores. Recuerda que la API elegida debe ser libre o tener autentificación basada en key. Estudia la documentación y realiza alguna petición con CURL para obtener información.</li>
</ul>

</div>

        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Actualizado:</strong> <time datetime="2023-02-21T21:10:39+01:00">February 21, 2023</time></p>
        
      </footer>

      

    
    </div>

    
  </article>

  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Términos de búsqueda...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Términos de búsqueda..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Seguir:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 Jesus Vives Céspedes. Funciona con <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>





<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>








  </body>
</html>
