<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="es" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html -->

<title>Taller 5: Instalación de un servidor LEMP - IES SEVERO OCHOA</title>
<meta name="description" content="¿Qué vas a aprender en este taller?">


  <meta name="author" content="Jesús Vives Céspedes">
  
  <meta property="article:author" content="Jesús Vives Céspedes">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="es_ES">
<meta property="og:site_name" content="IES SEVERO OCHOA">
<meta property="og:title" content="Taller 5: Instalación de un servidor LEMP">
<meta property="og:url" content="http://localhost:4000/iaw2223/2_php/t5">


  <meta property="og:description" content="¿Qué vas a aprender en este taller?">







  <meta property="article:published_time" content="2023-02-21T21:10:39+01:00">





  

  


<link rel="canonical" href="http://localhost:4000/iaw2223/2_php/t5">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Jesus Vives Céspedes",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="IES SEVERO OCHOA Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    
<!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->



<link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
<link rel="manifest" href="/assets/icons/site.webmanifest">
<link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">



<!-- end custom head snippets 2 -->

  </head>

  <body class="layout--single2 wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Saltar a navegación principal</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Saltar a contenido</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Saltar a pie</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          IES SEVERO OCHOA
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="">Inicio</a>
            </li><li class="masthead__menu-item">
              <a href="https://aules.edu.gva.es/fp/login/index.php">Plataforma</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Alternar búsqueda</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Alternar menú</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Alternar menú</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Implantación de aplicaciones web (2022-2023)</span>
        

        
        <ul>
          
            <li><a href="/iaw2223/">Inicio</a></li>
          
            <li><a href="/iaw2223/#unidad-1-introducci%C3%B3n-a-la-implantaci%C3%B3n-de-aplicaciones-web">Introducción</a></li>
          
            <li><a href="/iaw2223/#unidad-2-implantaci%C3%B3n-de-aplicaciones-web-php">PHP</a></li>
          
            <li><a href="/iaw2223/#unidad-3-seguridad-de-aplicaciones-web-con-https">HTTPS</a></li>
          
            <li><a href="/iaw2223/#unidad-4-implantaci%C3%B3n-de-aplicaciones-web-python">Python</a></li>
          
            <li><a href="/iaw2223/#unidad-5-implantaci%C3%B3n-de-aplicaciones-web-java">Java</a></li>
          
            <li><a href="/iaw2223/#unidad-6-docker">Docker</a></li>
          
            <li><a href="/iaw2223/#unidad-7-introducci%C3%B3n-a-la-integraci%C3%B3n-contin%C3%BAa-y-despliegue-continuo">IC/DC</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Módulos</span>
        

        
        <ul>
          
            <li><a href="/iaw2223/">Implantación de Aplicaciones Web</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>


  
  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Taller 5: Instalación de un servidor LEMP">
    <meta itemprop="description" content="¿Qué vas a aprender en este taller?">
    <meta itemprop="datePublished" content="February 21, 2023">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Taller 5: Instalación de un servidor LEMP
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <h2 id="qué-vas-a-aprender-en-este-taller">¿Qué vas a aprender en este taller?</h2>

<ul>
  <li>Realizar la instalación de un servidor LEMP.</li>
  <li>Configurar nginx como proxy inverso para pasar las peticiones PHP al servidor de aplicación <code class="language-plaintext highlighter-rouge">fpm-php.</code></li>
</ul>

<h2 id="recursos-para-realizar-este-taller">Recursos para realizar este taller</h2>

<h3 id="configuración-de-nginx-con-php-fpm">Configuración de Nginx con php-fpm</h3>

<p>Para ejecutar en un virtualhost nginx el proxy inverso para fpm_php:</p>

<p>En el virtualhost descomentamos las siguientes líneas:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>location ~ \.php$ {
    include snippets/fastcgi-php.conf;

    # With php-fpm (or other unix sockets):
    #fastcgi_pass unix:/var/run/php/php7.3-fpm.sock;
    # With php-cgi (or other tcp sockets):
    #fastcgi_pass 127.0.0.1:9000;
}
</code></pre></div></div>

<p>Descomentando la opción que nos interese: si php-fpm está en un socket Unix o en un socket TCP.</p>

<h2 id="qué-tienes-que-hacer">¿Qué tienes que hacer?</h2>

<p>Para realizar este taller puede empezar con un máquina limpia e instalar la pila LEMP completa o usar el escenario del taller anterior, desinstalar apache2 e instalar nginx.</p>

<ol>
  <li>Instala el servidor LEMP (si usar el escenario anterior desinstala apache2 e instala nginx y configúralo de forma adecuada).</li>
  <li>Comprueba accediendo a un fichero <code class="language-plaintext highlighter-rouge">info.php</code>, que los script PHP se están ejecutando con PHP-FPM. Comprueba que la aplicación <em>bookmedik</em> sigue funcionando.</li>
  <li>Cambia la configuración de PHP-FPM (si estaba escuchando por Unix socket que escuche por TCP socket o viceversa). Cambia la configuración de nginx para que se comunique con PHP-FPM de forma adecuada.</li>
  <li>Comprueba que la aplicación siguen funcionando.</li>
  <li>Cambia la memoria máxima de uso de un script PHP (parámetro <code class="language-plaintext highlighter-rouge">memory_limit</code>) a 256Mb. Si has utilizado el escenario anterior, ¿has tenido que hacer alguna modificación? ¿Por qué?</li>
</ol>

<div class="notice--info">
<h2 id="qué-tienes-que-entregar">¿Qué tienes que entregar?</h2>

<ol>
  <li>Muestra un pantallazo de la salida del fichero <code class="language-plaintext highlighter-rouge">info.php</code> donde se vea que se está ejecutando PHP sobre un servidor nginx.</li>
  <li>En el punto 2, muestra si FPM-PHP está escuchando con Unix socket o TCP Socket) y la configuración que has hecho en nginx para trabajar con PHP-FPM.</li>
  <li>Pantallazos de bookmedik funcionando (después del login).</li>
  <li>Configuración de PHP-FPM y nginx para que funcione el punto 4.</li>
  <li>Si has utilizado el escenario anterior, ¿has tenido que as cambiado algún fichero para cambiar la memoria utilizada?¿Por qué?. Si no has usado el escenario anterior, indica el fichero que has modificado.</li>
</ol>

</div>

        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Actualizado:</strong> <time datetime="2023-02-21T21:10:39+01:00">February 21, 2023</time></p>
        
      </footer>

      

    
    </div>

    
  </article>

  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Términos de búsqueda...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Términos de búsqueda..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Seguir:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 Jesus Vives Céspedes. Funciona con <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>





<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>








  </body>
</html>
